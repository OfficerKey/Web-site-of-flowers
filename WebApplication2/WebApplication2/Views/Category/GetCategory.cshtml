@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@


@using WebApplication2.Models;
@model CategoryProductModel
@{
    <!doctype html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
        <meta name="generator" content="Hugo 0.79.0">
        <title>Product example · Bootstrap v5.0</title>



        <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/product/">


        
        <!-- Bootstrap core CSS -->
        <link href="~/assets/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="~/css/lab7-8.css" rel="stylesheet" />

        <style>
            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }
            select {
                content: "▼";
            }
        </style>


        <!-- Custom styles for this template -->
        <link href="~product.css" rel="stylesheet">
    </head>
    <body>
        <header class="site-header sticky-top py-1">
            <nav class="container d-flex flex-column flex-md-row justify-content-between">
                <a class="py-2" href="/home" aria-label="Product">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-block mx-auto" role="img" viewBox="0 0 24 24"><title>Product</title><circle cx="12" cy="12" r="10" /><path d="M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94" /></svg>
                </a>
                <a class="py-2 d-none d-md-inline-block" href="/category">Category</a>
                @{
                    if (User.Identity.IsAuthenticated && User.Identity.Name == "kalishvlad3@gmail.com")
                    {
                        <a class="py-2 d-none d-md-inline-block" href="/admin">AdminPanel</a>

                        <a class="py-2 d-none d-md-inline-block" href="/logout">@User.Identity.Name</a>
                    }
                    else if (User.Identity.IsAuthenticated)
                    {
                        <a class="py-2 d-none d-md-inline-block" href="/logout">@User.Identity.Name</a>
                    }
                    else
                    {
                        <a class="py-2 d-none d-md-inline-block" href="/login">Login</a>
                        <a class="py-2 d-none d-md-inline-block" href="/regist">Registration</a>
                    }
                }


            </nav>
        </header>

        <main>


            <div class="container">

                <div class="row">
                    <form class="navbar-form" role="search">
                        <div class="input-group" style="width: 180px;">
                            <input type="text" autocomplete="off" class="form-control" placeholder="Search" name="search" id="search-input">
                            <span class="input-group-btn">
                                <button class="btn" id="srchbtn" type="btn-default">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </button>
                            </span>
                        </div>
                    </form>


                    <form class="form-inline" method="post">
                        <select class="mdb-select md-outline md-form form-control" name="categoryId" id="categoryId" onchange="this.form.submit()">
                            <option selected class="d-none" disabled value=""> Нажмите чтобы выбрать </option>
                            @foreach (CategoryModel item in Model.categories)
                            {

                                <option value="@item.id">@item.name</option>
                            }
                        </select>

                    </form>
                    <br />
                    <br />

                    <!-- /.col-lg-3 -->

                    <div class="col-lg-9">



                        <div class="row">
                            @{

                                foreach (Products p in Model.productsmodel)
                                {
                                    <div class="col-lg-4 col-md-6 mb-4">
                                        <div class="card h-100">
                                            <a href="#"><img class="card-img-top" src="http://placehold.it/700x400" alt=""></a>
                                            <div class="card-body">

                                                <h4 class="card-title">
                                                    <p>@p.Name</p>
                                                </h4>
                                                <h5>@p.price</h5>
                                                <p class="card-text">@p.description</p>


                                            </div>
                                            <div class="card-footer">
                                                <p>@p.category?.Name</p>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }




                        </div>
                        <!-- /.row -->

                    </div>
                    <!-- /.col-lg-9 -->

                </div>
                <!-- /.row -->

            </div>











        </main>


        <footer class="container py-5">
        </footer>

        <!--===============================================================================================-->
        <script src="~/vendor/jquery/jquery-3.2.1.min.js"></script>
        <!--===============================================================================================-->
        <script src="~/vendor/bootstrap/js/popper.js"></script>
        <script src="~/vendor/bootstrap/js/bootstrap.min.js"></script>
        <!--===============================================================================================-->
        <script src="~/vendor/select2/select2.min.js"></script>
        <!--===============================================================================================-->
        <script src="~/vendor/tilt/tilt.jquery.min.js"></script>
        <script>
            $('.js-tilt').tilt({
                scale: 1.1
            })
        </script>
        <!--===============================================================================================-->
        <script src="../../js/main.js"></script>
        <script>
           
        </script>

    </body>
</html>
}
